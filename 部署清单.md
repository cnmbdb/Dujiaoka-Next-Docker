# æœåŠ¡å™¨éƒ¨ç½²æ–‡ä»¶æ¸…å•

## âœ… éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶

### å¿…éœ€æ–‡ä»¶
- `docker-compose.yml` - Docker ç¼–æ’é…ç½®
- `.env` - å”¯ä¸€ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆæŒ‰æœåŠ¡å™¨ç¯å¢ƒç›´æ¥ä¿®æ”¹ï¼‰
- `config/config.yml` - API é…ç½®æ–‡ä»¶
- `nginx/admin-nginx.conf` - Admin Nginx é…ç½®
- `nginx/user-nginx.conf` - User Nginx é…ç½®

### å¯é€‰æ–‡ä»¶ï¼ˆæ–‡æ¡£ï¼‰
- `README.md` - éƒ¨ç½²è¯´æ˜
- `æœåŠ¡å™¨éƒ¨ç½²æµç¨‹.md` - è¯¦ç»†éƒ¨ç½²æµç¨‹
- `HTTPS_SSL_é…ç½®æŒ‡å—.md` - HTTPS é…ç½®æŒ‡å—
- `åˆå§‹åŒ–è¯´æ˜.md` - åˆå§‹åŒ–è¯´æ˜
- `å•†å“æ˜¾ç¤ºé—®é¢˜æ’æŸ¥.md` - é—®é¢˜æ’æŸ¥

## âŒ ä¸è¦ä¸Šä¼ çš„æ–‡ä»¶

- `data/` - æœ¬åœ°æµ‹è¯•æ•°æ®ï¼ŒæœåŠ¡å™¨ä¸Šä¼šé‡æ–°åˆ›å»º
- `.git/` - Git ä»“åº“ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- `*.log` - æ—¥å¿—æ–‡ä»¶

## ğŸ“¦ æ‰“åŒ…å‘½ä»¤

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œï¼Œæ‰“åŒ…éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶
cd /Users/a2333/IDE/éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶/Dujiao-Next
tar -czf dujiao-next-deploy.tar.gz \
  docker-compose.yml \
  .env \
  config/ \
  nginx/ \
  *.md \
  --exclude='data' \
  --exclude='.git'
```

## ğŸš€ æœåŠ¡å™¨ä¸Šéƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ æ–‡ä»¶

```bash
# ä¸Šä¼ æ‰“åŒ…æ–‡ä»¶åˆ°æœåŠ¡å™¨
scp dujiao-next-deploy.tar.gz user@your-server:/opt/

# åœ¨æœåŠ¡å™¨ä¸Šè§£å‹
ssh user@your-server
cd /opt
mkdir -p dujiao-next
cd dujiao-next
tar -xzf ../dujiao-next-deploy.tar.gz
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cd /opt/dujiao-next
vim .env  # ä¿®æ”¹ DB_PASSWORD ç­‰é…ç½®
```

### 3. é…ç½® API

```bash
vim config/config.yml
# ç¡®ä¿æ•°æ®åº“å¯†ç ä¸ .env ä¸­çš„ DB_PASSWORD ä¸€è‡´
```

### 4. åˆ›å»ºæ•°æ®ç›®å½•

```bash
mkdir -p data/{postgres,redis,uploads,logs}
chmod -R 777 data/logs data/uploads
```

### 5. å¯åŠ¨æœåŠ¡

```bash
docker compose up -d
```

### 6. æ£€æŸ¥çŠ¶æ€

```bash
docker compose ps
docker compose logs -f
```

## âš ï¸ é‡è¦æé†’

1. **ä¿æŠ¤ `.env` æ–‡ä»¶** - ä»…åœ¨å—æ§æ¸ é“ä¼ è¾“ï¼Œé¿å…æ³„éœ²æ•æ„Ÿä¿¡æ¯
2. **ä¿®æ”¹é»˜è®¤å¯†ç ** - `.env` ä¸­çš„ `DB_PASSWORD` å’Œ `config.yml` ä¸­çš„ JWT å¯†é’¥
3. **æ£€æŸ¥ç«¯å£** - ç¡®ä¿æœåŠ¡å™¨ç«¯å£ 3000ã€3001ã€3002 æœªè¢«å ç”¨
4. **é˜²ç«å¢™** - å¼€æ”¾å¿…è¦ç«¯å£æˆ–é…ç½® Nginx åå‘ä»£ç†
