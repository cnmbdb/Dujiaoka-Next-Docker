# 商品显示问题排查

## 问题现象
后台上传了商品，但前端显示"暂无商品"。

## 排查步骤

### 1. 检查 API 是否返回数据

```bash
curl http://localhost:3000/api/v1/public/products
```

如果返回数据，说明 API 正常。

### 2. 检查商品购买类型

商品有两种购买类型：
- `guest` - 游客可见
- `member` - 仅会员可见

**如果商品是 `member` 类型，游客访问前端时看不到！**

### 3. 修改商品为游客可见

在后台修改商品的"购买类型"为"游客"（guest），或者：

```bash
# 通过数据库修改
docker compose exec dujiao-postgres psql -U dujiao_user -d dujiao_db -c "UPDATE products SET purchase_type = 'guest' WHERE id = 1;"
```

### 4. 检查浏览器控制台

打开浏览器开发者工具（F12），查看：
- Network 标签：检查 API 请求是否成功
- Console 标签：查看是否有 JavaScript 错误

### 5. 清除浏览器缓存

- 硬刷新：`Cmd+Shift+R` (Mac) 或 `Ctrl+Shift+R` (Windows)
- 或使用无痕模式访问

## 常见原因

1. **商品购买类型为 `member`** - 游客看不到，需要登录或修改为 `guest`
2. **浏览器缓存** - 前端缓存了旧的空数据
3. **API 路径错误** - 前端调用了错误的 API 地址

## 解决方案

### 方案1：修改商品为游客可见（推荐）

在后台管理界面：
1. 进入商品管理
2. 编辑商品
3. 将"购买类型"改为"游客"（guest）

### 方案2：通过数据库修改

```bash
docker compose exec dujiao-postgres psql -U dujiao_user -d dujiao_db -c "UPDATE products SET purchase_type = 'guest' WHERE purchase_type = 'member';"
```

### 方案3：登录后查看

如果商品确实是会员专享，需要：
1. 在前端注册/登录账号
2. 登录后即可看到 `member` 类型的商品
